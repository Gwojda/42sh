/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   eval_sym.c                                         :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: ariard <ariard@student.42.fr>              +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2017/02/09 16:26:30 by ariard            #+#    #+#             */
/*   Updated: 2017/02/17 21:35:11 by ariard           ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "parser.h"

t_stackmatch	g_stackmatch[] =
{
	{TK_N_WORD, CMD_SUFFIX},
	{TK_N_WORD, TK_PIPE},
	{TK_N_WORD, TK_CASE},
	{TK_N_WORD, WORDLIST},
	{TK_N_WORD, LINEBREAK},
	{TK_ASSIGNEMENT_WORD, CMD_PREFIX},
	{TK_IO_NUMBER, REDIRECT_LIST},
	{TK_IO_NUMBER, CMD_SUFFIX},
	{TK_IO_NUMBER, CMD_PREFIX},
	{TK_IO_NUMBER, CMD_NAME},
	{TK_IO_NUMBER, CMD_WORD},
	{TK_IO_NUMBER, LINEBREAK},
	{TK_IO_NUMBER, TK_BANG},
	{TK_IO_NUMBER, SEPARATOR_OP},
	{TK_IO_NUMBER, NEWLINE_LIST},
	{TK_IO_NUMBER, PIPE_SEMI_SEQUENCE},
	{TK_IO_NUMBER, CMD_SUPERIOR},
	{TK_IO_NUMBER, AND_OR_MAJOR},
	{TK_AND_IF, AND_OR},
	{TK_AND_IF, CMD_SUPERIOR},
	{TK_OR_IF, AND_OR},
	{TK_OR_IF, CMD_SUPERIOR},
	{TK_OR_IF, AND_OR},
	{TK_DSEMI, LINEBREAK},
	{TK_DSEMI, COMPOUND_LIST},
	{TK_LESS, TK_IO_NUMBER},
	{TK_LESS, REDIRECT_LIST},
	{TK_LESS, CMD_SUFFIX},
	{TK_LESS, CMD_PREFIX},
	{TK_LESS, CMD_WORD},
	{TK_LESS, CMD_NAME},
	{TK_LESS, LINEBREAK},
	{TK_LESS, TK_BANG},
	{TK_LESS, SEPARATOR_OP},
	{TK_LESS, NEWLINE_LIST},
	{TK_LESS, PIPE_SEMI_SEQUENCE},
	{TK_LESS, CMD_SUPERIOR},
	{TK_LESS, AND_OR_MAJOR},
	{TK_GREAT, TK_IO_NUMBER},
	{TK_GREAT, REDIRECT_LIST},
	{TK_GREAT, CMD_SUFFIX},
	{TK_GREAT, CMD_PREFIX},
	{TK_GREAT, CMD_WORD},
	{TK_GREAT, CMD_NAME},
	{TK_GREAT, LINEBREAK},
	{TK_GREAT, TK_BANG},
	{TK_GREAT, SEPARATOR_OP},
	{TK_GREAT, NEWLINE_LIST},
	{TK_GREAT, PIPE_SEMI_SEQUENCE},
//duplicate and extend
	{TK_GREAT, CMD_SUPERIOR},
	{TK_GREAT, AND_OR_MAJOR},

	{TK_DLESS, TK_IO_NUMBER},
	{TK_DLESS, REDIRECT_LIST},
	{TK_DLESS, CMD_SUFFIX},
	{TK_DLESS, CMD_PREFIX},
	{TK_DLESS, CMD_WORD},
	{TK_DLESS, CMD_NAME},
	{TK_DLESS, LINEBREAK},
	{TK_DLESS, TK_BANG},
	{TK_DLESS, SEPARATOR_OP},
	{TK_DLESS, NEWLINE_LIST},
	{TK_DLESS, PIPE_SEMI_SEQUENCE},
	{TK_DLESS, CMD_SUPERIOR},
	{TK_DLESS, AND_OR_MAJOR},

	{TK_DLESSDASH, TK_IO_NUMBER},
	{TK_DLESSDASH, REDIRECT_LIST},
	{TK_DLESSDASH, CMD_SUFFIX},
	{TK_DLESSDASH, CMD_PREFIX},
	{TK_DLESSDASH, CMD_WORD},
	{TK_DLESSDASH, CMD_NAME},
	{TK_DLESSDASH, LINEBREAK},
	{TK_DLESSDASH, TK_BANG},
	{TK_DLESSDASH, SEPARATOR_OP},
	{TK_DLESSDASH, NEWLINE_LIST},
	{TK_DLESSDASH, PIPE_SEMI_SEQUENCE},
	{TK_DLESSDASH, CMD_SUPERIOR},
	{TK_DLESSDASH, AND_OR_MAJOR},

	{TK_DGREAT, TK_IO_NUMBER},
	{TK_DGREAT, REDIRECT_LIST},
	{TK_DGREAT, CMD_SUFFIX},
	{TK_DGREAT, CMD_PREFIX},
	{TK_DGREAT, CMD_WORD},
	{TK_DGREAT, CMD_NAME},
	{TK_DGREAT, LINEBREAK},
	{TK_DGREAT, TK_BANG},
	{TK_DGREAT, SEPARATOR_OP},
	{TK_DGREAT, NEWLINE_LIST},
	{TK_DGREAT, PIPE_SEMI_SEQUENCE},
	{TK_DGREAT, CMD_SUPERIOR},
	{TK_DGREAT, AND_OR_MAJOR},

	{TK_LESSAND, TK_IO_NUMBER},
	{TK_LESSAND, REDIRECT_LIST},
	{TK_LESSAND, CMD_SUFFIX},
	{TK_LESSAND, CMD_PREFIX},
	{TK_LESSAND, CMD_WORD},
	{TK_LESSAND, CMD_NAME},
	{TK_LESSAND, LINEBREAK},
	{TK_LESSAND, TK_BANG},
	{TK_LESSAND, SEPARATOR_OP},
	{TK_LESSAND, NEWLINE_LIST},
	{TK_LESSAND, PIPE_SEMI_SEQUENCE},
	{TK_LESSAND, CMD_SUPERIOR},
	{TK_LESSAND, AND_OR_MAJOR},

	{TK_GREATAND, TK_IO_NUMBER},
	{TK_GREATAND, REDIRECT_LIST},
	{TK_GREATAND, CMD_SUFFIX},
	{TK_GREATAND, CMD_PREFIX},
	{TK_GREATAND, CMD_WORD},
	{TK_GREATAND, CMD_NAME},
	{TK_GREATAND, LINEBREAK},
	{TK_GREATAND, TK_BANG},
	{TK_GREATAND, SEPARATOR_OP},
	{TK_GREATAND, NEWLINE_LIST},
	{TK_GREATAND, PIPE_SEMI_SEQUENCE},
	{TK_GREATAND, CMD_SUPERIOR},
	{TK_GREATAND, AND_OR_MAJOR},

	{TK_LESSGREAT, TK_IO_NUMBER},
	{TK_LESSGREAT, REDIRECT_LIST},
	{TK_LESSGREAT, CMD_SUFFIX},
	{TK_LESSGREAT, CMD_PREFIX},
	{TK_LESSGREAT, CMD_WORD},
	{TK_LESSGREAT, CMD_NAME},
	{TK_LESSGREAT, LINEBREAK},
	{TK_LESSGREAT, TK_BANG},
	{TK_LESSGREAT, SEPARATOR_OP},
	{TK_LESSGREAT, NEWLINE_LIST},
	{TK_LESSGREAT, PIPE_SEMI_SEQUENCE},
	{TK_LESSGREAT, CMD_SUPERIOR},
	{TK_LESSGREAT, AND_OR_MAJOR},

	{TK_CLOBBER, TK_IO_NUMBER},
	{TK_CLOBBER, REDIRECT_LIST},
	{TK_CLOBBER, CMD_SUFFIX},
	{TK_CLOBBER, CMD_PREFIX},
	{TK_CLOBBER, CMD_WORD},
	{TK_CLOBBER, CMD_NAME},
	{TK_CLOBBER, LINEBREAK},
	{TK_CLOBBER, TK_BANG},
	{TK_CLOBBER, SEPARATOR_OP},
	{TK_CLOBBER, NEWLINE_LIST},
	{TK_CLOBBER, PIPE_SEMI_SEQUENCE},
	{TK_CLOBBER, CMD_SUPERIOR},
	{TK_CLOBBER, AND_OR_MAJOR},

	{TK_IF, LINEBREAK},
	{TK_IF, TK_BANG},
	{TK_IF, SEPARATOR_OP},
	{TK_IF, NEWLINE_LIST},
	{TK_IF, PIPE_SEMI_SEQUENCE},
	{TK_THEN, COMPOUND_LIST},
	{TK_ELSE, COMPOUND_LIST},
	{TK_ELIF, COMPOUND_LIST},	
	{TK_FI, ELSE_PART},
	{TK_FI, COMPOUND_LIST},	
	{TK_DO, CMD_SUPERIOR},
	{TK_DO, COMPOUND_LIST},
	{TK_DO, NAME},
	{TK_DO, SEQUENTIAL_SEP},
	{TK_DONE, CMD_SUPERIOR},
	{TK_DONE, COMPOUND_LIST},
	{TK_DONE, END_COMMAND},
	{TK_CASE, LINEBREAK},
	{TK_CASE, TK_BANG},
	{TK_CASE, NEWLINE_LIST},
	{TK_CASE, SEPARATOR_OP},
	{TK_CASE, PIPE_SEMI_SEQUENCE},
	{TK_ESAC, CASE_LIST},
	{TK_ESAC, CASE_LIST_NS},
	{TK_ESAC, LINEBREAK},
	{TK_WHILE, LINEBREAK},
	{TK_WHILE, TK_BANG},
	{TK_WHILE, SEPARATOR_OP},
	{TK_WHILE, NEWLINE_LIST},
	{TK_WHILE, PIPE_SEMI_SEQUENCE},
	{TK_UNTIL, LINEBREAK},
	{TK_UNTIL, TK_BANG},
	{TK_UNTIL, SEPARATOR_OP},
	{TK_UNTIL, NEWLINE_LIST},
	{TK_UNTIL, PIPE_SEMI_SEQUENCE},
	{TK_FOR, LINEBREAK},
	{TK_FOR, TK_BANG},
	{TK_FOR, SEPARATOR_OP},
	{TK_FOR, NEWLINE_LIST},
	{TK_FOR, PIPE_SEMI_SEQUENCE},
	{TK_LBRACE, LINEBREAK},
	{TK_LBRACE, TK_BANG},
	{TK_LBRACE, SEPARATOR_OP},
	{TK_LBRACE, NEWLINE_LIST},
	{TK_LBRACE, PIPE_SEMI_SEQUENCE},
	{TK_RBRACE, COMPOUND_LIST},
	{TK_BANG, LINEBREAK},
	{TK_BANG, SEPARATOR_OP},
	{TK_BANG, NEWLINE_LIST},
	{TK_IN, LINEBREAK},
	{TK_SEMI, NAME},
	{TK_SEMI, IN},
	{TK_SEMI, WORDLIST},
	{TK_SEMI, LIST},
	{TK_SEMI, TERM},
	{TK_SEMI, CMD_NAME},
	{TK_SEMI, PROGRAM},
	{TK_AMP, LIST},
	{TK_AMP, TERM},
	{TK_PIPE, PATTERN},
	{TK_PIPE, CMD_SUPERIOR},
	{TK_PAREN_OPEN, FNAME},
	{TK_PAREN_OPEN, CASE_LIST},
	{TK_PAREN_OPEN, LINEBREAK},
	{TK_PAREN_OPEN, TK_BANG},
	{TK_PAREN_OPEN, SEPARATOR_OP},
	{TK_PAREN_OPEN, NEWLINE_LIST},
	{TK_PAREN_OPEN, PIPE_SEMI_SEQUENCE},
	{TK_PAREN_CLOSE, TK_PAREN_OPEN},
	{TK_PAREN_CLOSE, PATTERN},
	{TK_PAREN_CLOSE, COMPOUND_LIST},
	{SEQUENTIAL_SEP, NAME},
	{SEQUENTIAL_SEP, IN},
	{SEQUENTIAL_SEP, WORDLIST},
	{END_COMMAND, PIPE_SEMI_SEQUENCE},
	{END_COMMAND, TK_WHILE},
	{END_COMMAND, TK_DO},
	{END_COMMAND, LINEBREAK},
	{SEPARATOR, CMD_SUPERIOR},
	{SEPARATOR, TERM},
	{SEPARATOR, COMPOUND_LIST},
	{SEPARATOR_OP, CMD_SUPERIOR},
	{SEPARATOR_OP, LIST},
	{SEPARATOR_OP, TERM},
	{SEPARATOR_OP, COMPOUND_LIST},
	{LINEBREAK, TK_SEMI},
	{LINEBREAK, SEPARATOR_OP},	
	{LINEBREAK, TK_PAREN_CLOSE},
	{LINEBREAK, WORD},
	{LINEBREAK, IN},
	{LINEBREAK, TK_AND_IF},
	{LINEBREAK, TK_OR_IF},
	{LINEBREAK, TK_PIPE},
	{LINEBREAK, LINEBREAK},
	{LINEBREAK, COMPLETE_COMMANDS},
	{LINEBREAK, CMD_SUPERIOR},
	{LINEBREAK, PIPE_SEMI_SEQUENCE},
	{LINEBREAK, COMPOUND_LIST},
	{NEWLINE_LIST, TK_DO},
	{NEWLINE_LIST, CMD_NAME},
	{NEWLINE_LIST, NEWLINE_LIST},
	{NEWLINE_LIST, NAME},
	{NEWLINE_LIST, IN},
	{NEWLINE_LIST, WORDLIST},
	{NEWLINE_LIST, TERM},
	{NEWLINE_LIST, COMPOUND_LIST},
	{NEWLINE_LIST, COMPLETE_COMMANDS}, 
	{HERE_END, TK_DLESS},
	{HERE_END, TK_DLESSDASH},
	{IO_HERE, TK_IO_NUMBER},
	{IO_HERE, CMD_SUPERIOR},
	{IO_HERE, REDIRECT_LIST},
	{IO_HERE, CMD_SUFFIX},
	{IO_HERE, CMD_PREFIX},
	{IO_HERE, CMD_WORD},
	{IO_HERE, CMD_NAME},
	{IO_HERE, LINEBREAK},
	{IO_HERE, TK_BANG},
	{IO_HERE, SEPARATOR_OP},
	{IO_HERE, NEWLINE_LIST},
	{IO_HERE, PIPE_SEMI_SEQUENCE},
	{FILENAME, TK_LESS},
	{FILENAME, TK_LESSAND},
	{FILENAME, TK_GREAT},
	{FILENAME, TK_GREATAND},
	{FILENAME, TK_DGREAT},
	{FILENAME, TK_LESSGREAT},
	{FILENAME, TK_CLOBBER},
	{IO_FILE, TK_IO_NUMBER},
	{IO_FILE, CMD_SUPERIOR},
	{IO_FILE, REDIRECT_LIST},
	{IO_FILE, CMD_SUFFIX},
	{IO_FILE, CMD_PREFIX},
	{IO_FILE, CMD_WORD},
	{IO_FILE, CMD_NAME},
	{IO_FILE, LINEBREAK},
	{IO_FILE, TK_BANG},
	{IO_FILE, SEPARATOR_OP},
	{IO_FILE, NEWLINE_LIST},
	{IO_FILE, PIPE_SEMI_SEQUENCE},
	{IO_REDIRECT, REDIRECT_LIST},
	{IO_REDIRECT, CMD_SUPERIOR},
	{IO_REDIRECT, CMD_SUFFIX},
	{IO_REDIRECT, CMD_PREFIX},
	{IO_REDIRECT, CMD_WORD},
	{IO_REDIRECT, CMD_NAME},
	{IO_REDIRECT, LINEBREAK},
	{IO_REDIRECT, TK_BANG},
	{IO_REDIRECT, SEPARATOR_OP},
	{IO_REDIRECT, NEWLINE_LIST},
	{IO_REDIRECT, PIPE_SEMI_SEQUENCE},
	{REDIRECT_LIST, COMPOUND_COMMAND},
	{CMD_SUFFIX, CMD_WORD},
	{CMD_SUFFIX, CMD_NAME},
	{CMD_PREFIX, LINEBREAK},
	{CMD_PREFIX, TK_BANG},
	{CMD_PREFIX, SEPARATOR_OP},
	{CMD_PREFIX, NEWLINE_LIST},
	{CMD_PREFIX, PIPE_SEMI_SEQUENCE},
	{CMD_WORD, CMD_PREFIX},
	{CMD_NAME, LINEBREAK},
	{CMD_NAME, TK_BANG},
	{CMD_NAME, SEPARATOR_OP},
	{CMD_NAME, NEWLINE_LIST},
	{CMD_NAME, PIPE_SEMI_SEQUENCE},
	{CMD_NAME, AND_OR_MAJOR},
	{CMD_NAME, TK_WHILE},
	{CMD_NAME, TK_DO},
	{CMD_NAME, COMPOUND_LIST},
	
	{CMD_SUPERIOR, TK_WHILE},
	{CMD_SUPERIOR, TK_DO},
	{CMD_SUPERIOR, COMPOUND_LIST},
	{CMD_SUPERIOR, LINEBREAK,},
	{CMD_SUPERIOR, TK_BANG},
	{CMD_SUPERIOR, SEPARATOR_OP},
	{CMD_SUPERIOR, NEWLINE_LIST},
	{CMD_SUPERIOR, TK_PIPE},
	{CMD_SUPERIOR, PIPE_SEMI_SEQUENCE},
	{CMD_SUPERIOR, AND_OR_MAJOR},
	
	{SIMPLE_COMMAND, TK_WHILE},
	{SIMPLE_COMMAND, TK_DO},
	{SIMPLE_COMMAND, COMPOUND_LIST},
	{SIMPLE_COMMAND, LINEBREAK},
	{SIMPLE_COMMAND, TK_BANG},
	{SIMPLE_COMMAND, SEPARATOR_OP},
	{SIMPLE_COMMAND, NEWLINE_LIST},
	{SIMPLE_COMMAND, PIPE_SEMI_SEQUENCE},
	{SIMPLE_COMMAND, AND_OR_MAJOR},
	{DO_GROUP, CMD_SUPERIOR},
	{DO_GROUP, COMPOUND_LIST},
	{DO_GROUP, NAME},
	{DO_GROUP, SEQUENTIAL_SEP},
	{LOOP, TK_WHILE},
	{LOOP, TK_UNTIL},
	{BRACE_GROUP, LINEBREAK},
	{BRACE_GROUP, TK_BANG},
	{BRACE_GROUP, SEPARATOR_OP},
	{BRACE_GROUP, NEWLINE_LIST},
	{BRACE_GROUP, PIPE_SEMI_SEQUENCE},
	{FNAME, LINEBREAK},
	{FNAME, TK_BANG},
	{FNAME, SEPARATOR_OP},
	{FNAME, NEWLINE_LIST},
	{FNAME, PIPE_SEMI_SEQUENCE},
	{FUNCTION_BODY, FUNC},
	{FUNCTION_DEFINITION, LINEBREAK},
	{FUNCTION_DEFINITION, TK_BANG},
	{FUNCTION_DEFINITION, SEPARATOR_OP},
	{FUNCTION_DEFINITION, NEWLINE_LIST},
	{FUNCTION_DEFINITION, PIPE_SEMI_SEQUENCE},
	{UNTIL_CLAUSE, LINEBREAK},
	{UNTIL_CLAUSE, TK_BANG},
	{UNTIL_CLAUSE, SEPARATOR_OP},
	{UNTIL_CLAUSE, NEWLINE_LIST},
	{UNTIL_CLAUSE, PIPE_SEMI_SEQUENCE},
	{WHILE_CLAUSE, LINEBREAK},
	{WHILE_CLAUSE, TK_BANG},
	{WHILE_CLAUSE, SEPARATOR_OP},
	{WHILE_CLAUSE, NEWLINE_LIST},
	{WHILE_CLAUSE, PIPE_SEMI_SEQUENCE},
	{ELSE_PART, COMPOUND_LIST},
	{IF_CLAUSE, LINEBREAK},
	{IF_CLAUSE, TK_BANG},
	{IF_CLAUSE, SEPARATOR_OP},
	{IF_CLAUSE, NEWLINE_LIST},
	{IF_CLAUSE, PIPE_SEMI_SEQUENCE},
	{PATTERN, TK_PAREN_OPEN},
	{PATTERN, CASE_LIST},
	{PATTERN_CASE, CASE_LIST},
	{CASE_ITEM, CASE_LIST},
	{CASE_ITEM, LINEBREAK},
	{CASE_ITEM_NS, CASE_LIST},
	{CASE_ITEM_NS, LINEBREAK},
	{CASE_LIST, LINEBREAK},
	{CASE_LIST_NS, LINEBREAK},
	{CASE_CLAUSE, LINEBREAK},
	{CASE_CLAUSE, TK_BANG},
	{CASE_CLAUSE, SEPARATOR_OP},
	{CASE_CLAUSE, NEWLINE_LIST},
	{CASE_CLAUSE, PIPE_SEMI_SEQUENCE},
	{WORDLIST, IN},
	{IN, LINEBREAK},
	{NAME, TK_FOR},
	{FOR_CLAUSE, LINEBREAK},
	{FOR_CLAUSE, TK_BANG},
	{FOR_CLAUSE, SEPARATOR_OP},
	{FOR_CLAUSE, NEWLINE_LIST},
	{FOR_CLAUSE, PIPE_SEMI_SEQUENCE},
	{TERM, LINEBREAK},
	{COMPOUND_LIST, TK_DO},
	{COMPOUND_LIST, TK_LBRACE},
	{COMPOUND_LIST, TK_WHILE},
	{COMPOUND_LIST, TK_UNTIL},
	{COMPOUND_LIST, TK_ELIF},
	{COMPOUND_LIST, TK_ELSE},
	{COMPOUND_LIST, TK_IF},
	{COMPOUND_LIST, COMPOUND_LIST},
	{SUBSHELL, LINEBREAK},
	{SUBSHELL, TK_BANG},
	{SUBSHELL, SEPARATOR_OP},
	{SUBSHELL, NEWLINE_LIST},
	{SUBSHELL, PIPE_SEMI_SEQUENCE},
	{COMPOUND_COMMAND, LINEBREAK},
	{COMPOUND_COMMAND, TK_BANG},
	{COMPOUND_COMMAND, SEPARATOR_OP},
	{COMPOUND_COMMAND, NEWLINE_LIST},
	{COMPOUND_COMMAND, PIPE_SEMI_SEQUENCE},
	{COMPOUND_COMMAND, FUNC},
	{COMMAND, TK_WHILE},
	{COMMAND, LINEBREAK},
	{COMMAND, TK_DO},
	{COMMAND, COMPOUND_LIST},
	{COMMAND, TK_BANG},
	{COMMAND, SEPARATOR_OP},
	{COMMAND, NEWLINE_LIST},
	{COMMAND, PIPE_SEMI_SEQUENCE},
	{COMMAND, AND_OR_MAJOR},
	{AND_OR_MINOR, PIPE_SEMI_SEQUENCE},
	{AND_OR_MINOR, LINEBREAK},
	{AND_OR_MINOR, AND_OR_MAJOR},
	{PIPE_SEQUENCE, TK_WHILE},
	{PIPE_SEQUENCE, TK_DO},
	{PIPE_SEQUENCE, COMPOUND_LIST},
	{PIPE_SEQUENCE, LINEBREAK},
	{PIPE_SEQUENCE, TK_BANG},
	{PIPE_SEQUENCE, SEPARATOR_OP},
	{PIPE_SEQUENCE, NEWLINE_LIST},
	{PIPE_SEQUENCE, AND_OR_MAJOR},
	{PIPE_SEMI_SEQUENCE, TK_WHILE},
	{PIPE_SEMI_SEQUENCE, TK_DO},
	{PIPE_SEMI_SEQUENCE, COMPOUND_LIST},
	{PIPE_SEMI_SEQUENCE, LINEBREAK},
	{PIPE_SEMI_SEQUENCE, TK_BANG},
	{PIPE_SEMI_SEQUENCE, SEPARATOR_OP},
	{PIPE_SEMI_SEQUENCE, NEWLINE_LIST},
	{PIPE_SEMI_SEQUENCE, AND_OR_MAJOR},
	{PIPELINE, TK_WHILE},
	{PIPELINE, TK_DO},
	{PIPELINE, COMPOUND_LIST},
	{PIPELINE, LINEBREAK},
	{PIPELINE, SEPARATOR_OP},
	{PIPELINE, NEWLINE_LIST},
	{PIPELINE, AND_OR_MAJOR},
	{AND_OR_MAJOR, LINEBREAK},
	{AND_OR_MAJOR, AND_OR_MAJOR},
	{AND_OR, TK_DO},
	{AND_OR, TK_WHILE},
	{AND_OR, COMPOUND_LIST},
	{AND_OR, LINEBREAK},
	{AND_OR, SEPARATOR_OP},
	{AND_OR, NEWLINE_LIST},
	{LIST, LINEBREAK},
	{LIST, NEWLINE_LIST},
	{COMPLETE_COMMAND, LINEBREAK},
	{COMPLETE_COMMAND, NEWLINE_LIST},
	{COMPLETE_COMMANDS, LINEBREAK},
	{0, 0},
};

int			eval_sym(t_sym stack, t_sym new_sym)
{
	int				i;

	DG("eval head %s && sym %s", read_state(stack), read_state(new_sym));
	i = 0;
	while (g_stackmatch[i].top)
	{
		if (new_sym == g_stackmatch[i].top && stack == g_stackmatch[i].under)
			return (0);
		i++;
	}
	return (1);
}
